# カスタムストレージロケーション機能

TodoLogアプリケーションでは、タスクデータの保存先を自由にカスタマイズできます。この機能を使うことで、複数のプロジェクトやコンテキストごとにタスクを分けて管理することができます。

## 機能概要

カスタムストレージロケーション機能には、以下の特徴があります：

1. **データディレクトリの変更**：タスクデータを保存するディレクトリを自由に指定できます
2. **複数タスクファイルの管理**：異なるプロジェクトやコンテキスト用に複数のタスクファイルを作成・管理できます
3. **簡単なファイル切り替え**：画面上部のドロップダウンメニューから、使用するタスクファイルを素早く切り替えられます
4. **最近使用したファイル**：よく使うタスクファイルに素早くアクセスできます

## 使い方

### データディレクトリの変更

1. 画面右上の「設定」アイコンをクリックします
2. 「ストレージ設定」タブを選択します
3. 「データディレクトリ」セクションで、新しいディレクトリパスを入力します
4. 「保存」ボタンをクリックします

指定したディレクトリが存在しない場合は自動的に作成されます。ただし、アプリケーションがそのディレクトリに書き込み権限を持っている必要があります。

### 新しいタスクファイルの作成

1. 画面右上の「設定」アイコンをクリックします
2. 「ストレージ設定」タブを選択します
3. 「新しいタスクファイル」セクションで、ファイル名を入力します（拡張子は自動的に `.json` が付与されます）
4. 「作成」ボタンをクリックします

作成したタスクファイルは自動的に現在のタスクファイルとして設定され、すぐに使用できるようになります。

### タスクファイルの切り替え

画面上部のドロップダウンメニューから、使用するタスクファイルを選択します。選択したファイルが現在のタスクファイルとして設定され、そのファイルに保存されているタスクが表示されます。

## 注意事項

- データディレクトリを変更すると、そのディレクトリ内のタスクファイルのみが表示されます
- タスクファイルは常に `.json` 形式で保存されます
- アプリケーションが書き込み権限を持たないディレクトリは使用できません
- 現在のタスクファイルを削除すると、デフォルトのタスクファイル（`tasks.json`）が使用されます

## トラブルシューティング

### データディレクトリが変更できない

- 指定したディレクトリに書き込み権限があるか確認してください
- 相対パスではなく絶対パスを使用してみてください
- システム保護されたディレクトリ（例：`/usr/bin`）は使用できません

### タスクファイルが表示されない

- 正しいデータディレクトリが設定されているか確認してください
- ファイルが `.json` 形式であるか確認してください
- ファイルの権限設定を確認してください

### データが失われた

- バックアップ機能を使用して、定期的にデータをバックアップすることをお勧めします
- データディレクトリを変更しても、以前のディレクトリのデータは削除されません。以前のディレクトリに戻すことで、データを復元できる場合があります
