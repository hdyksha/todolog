# タスク詳細画面での編集機能

## 概要

タスク詳細画面では、タスクの各属性（優先度、タグ、締切日、メモ）をインラインで直接編集できます。この機能により、タスク編集フォームに移動することなく、タスクの詳細情報をスムーズに更新できます。

## 機能一覧

### 1. 優先度の編集

優先度表示をクリックすると、ドロップダウンメニューが表示され、以下の優先度から選択できます：

- 高
- 中
- 低

選択した優先度は即座に保存され、UIに反映されます。

### 2. タグの編集

タグセクションをクリックすると、タグ編集モードになります。このモードでは：

- 既存のタグを削除できます
- 新しいタグを追加できます
- 既存のタグから選択できます（自動補完機能付き）

変更を保存すると、タグリストが更新されます。

### 3. 締切日の編集

締切日表示をクリックすると、日付選択UIが表示されます。このUIでは：

- カレンダーから日付を選択できます
- 「クリア」ボタンで締切日を削除できます
- 変更を保存またはキャンセルできます

### 4. メモの編集

メモセクションの「編集」ボタンをクリックすると、メモ編集モードになります。このモードでは：

- マークダウン形式でメモを編集できます
- チェックボックスを追加・編集できます
- 「ヘルプ」ボタンでマークダウンの書き方を確認できます

## 使い方

### キーボードショートカット

タスク詳細画面では、以下のキーボードショートカットが利用できます：

- `e` - メモを編集
- `c` - タスクの完了状態を切り替え
- `Delete` - タスクを削除
- `Backspace` - タスク一覧に戻る
- `h` - マークダウンヘルプを表示（メモ編集時）
- `Escape` - 編集モードをキャンセル

### アクセシビリティ対応

すべての編集機能は、キーボードでも操作可能です：

- `Tab`キーで各要素間を移動
- `Enter`または`Space`キーで編集モードを開始
- `Enter`キーで変更を保存
- `Escape`キーで編集をキャンセル

## 編集のヒント

### 優先度の編集

1. タスク詳細画面で、優先度表示（「高」「中」「低」）をクリックします
2. 表示されるオプションから希望の優先度を選択します
3. 選択すると自動的に保存されます

### タグの編集

1. タスク詳細画面で、タグセクションをクリックします
2. 既存のタグを削除するには、タグの「×」ボタンをクリックします
3. 新しいタグを追加するには、入力フィールドにタグ名を入力し、Enterキーを押すか、表示される候補から選択します
4. 「保存」ボタンをクリックして変更を保存します
5. 「キャンセル」ボタンをクリックすると、変更を破棄します

### 締切日の編集

1. タスク詳細画面で、締切日表示をクリックします
2. カレンダーから日付を選択します
3. 締切日を削除するには、「クリア」ボタンをクリックします
4. 「保存」ボタンをクリックして変更を保存します
5. 「キャンセル」ボタンをクリックすると、変更を破棄します

### メモの編集

1. タスク詳細画面で、メモセクションの「編集」ボタンをクリックします（または`e`キーを押します）
2. テキストエリアにメモを入力します
3. マークダウン記法を使用して書式を設定できます
4. チェックボックスを追加するには、`- [ ]`（未完了）または`- [x]`（完了）を入力します
5. マークダウンの書き方を確認するには、「ヘルプ」ボタンをクリックします
6. 「保存」ボタンをクリックして変更を保存します
7. 「キャンセル」ボタンをクリックすると、変更を破棄します

## トラブルシューティング

### 変更が保存されない場合

- インターネット接続を確認してください
- ページを再読み込みして再試行してください
- エラーメッセージが表示されている場合は、その内容を確認してください

### キーボードショートカットが機能しない場合

- フォーカスがタスク詳細画面にあることを確認してください
- 他のアプリケーションやブラウザの拡張機能がショートカットを妨げていないか確認してください
- 編集モード中は一部のショートカットが無効になることがあります

### 編集モードが突然終了する場合

- 編集中に画面外をクリックすると、編集モードが終了します
- Escapeキーを押すと、編集モードが終了します
- セッションがタイムアウトした可能性があります。再ログインしてください
