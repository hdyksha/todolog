# アクセシビリティガイドライン

## 概要

TodoLogアプリケーションは、すべてのユーザーが使いやすいように設計されています。このドキュメントでは、アプリケーション全体で適用されているアクセシビリティガイドラインについて説明します。

## 基本原則

TodoLogは、Web Content Accessibility Guidelines (WCAG) 2.1のレベルAAに準拠することを目指しています。以下の基本原則に従っています：

1. **知覚可能性** - 情報とユーザーインターフェースコンポーネントは、ユーザーが知覚できる方法で提示される
2. **操作可能性** - ユーザーインターフェースコンポーネントとナビゲーションは操作可能である
3. **理解可能性** - 情報とユーザーインターフェースの操作は理解可能である
4. **堅牢性** - コンテンツは、支援技術を含む様々なユーザーエージェントによって解釈可能である

## キーボードアクセシビリティ

### フォーカス管理

- すべてのインタラクティブ要素はキーボードでフォーカス可能
- フォーカスの順序は論理的で予測可能
- フォーカスされた要素は視覚的に明確に表示される
- モーダルが開いている場合、フォーカスはモーダル内に閉じ込められる

### キーボードショートカット

- 主要な機能にはキーボードショートカットが提供されている
- ショートカットは一貫性があり、競合しない
- ショートカットはヘルプセクションで文書化されている

## スクリーンリーダー対応

### ARIA属性

- 適切なARIA属性を使用して、視覚的な情報を補完
- 動的に変化するコンテンツには適切なライブリージョンを使用
- フォームコントロールには明示的なラベルを提供

### 代替テキスト

- すべての画像には適切な代替テキストを提供
- 装飾的な画像は空の代替テキスト（alt=""）を使用
- アイコンには意味を説明する代替テキストを提供

## 視覚デザイン

### コントラスト

- テキストと背景のコントラスト比は4.5:1以上
- 大きなテキスト（18pt以上または14pt太字以上）のコントラスト比は3:1以上
- インタラクティブ要素のコントラスト比は3:1以上

### カラー

- 情報伝達に色だけを使用しない
- 色覚異常のユーザーにも区別できる色の組み合わせを使用
- フォーカス状態は色だけでなく、境界線やアウトラインでも示す

## フォーム

### ラベル

- すべてのフォームコントロールには関連するラベルがある
- プレースホルダーテキストはラベルの代わりではなく、補足情報として使用
- 必須フィールドは視覚的に示され、スクリーンリーダーにも伝えられる

### エラー処理

- エラーは明確に識別され、エラーの原因と解決方法が説明される
- エラーメッセージはフォームコントロールに関連付けられている
- エラーが発生した場合、フォーカスは最初のエラーフィールドに移動する

## 動的コンテンツ

### アニメーション

- 自動再生されるアニメーションは5秒以内に停止するか、ユーザーが停止できる
- 点滅するコンテンツは1秒間に3回未満の頻度に制限
- アニメーションを減らす設定オプションを提供

### 通知

- 重要な通知はスクリーンリーダーに伝えられる
- 通知は一時的で、ユーザーの操作を妨げない
- 通知は視覚的にも明確に識別できる

## テスト

### 自動テスト

- jest-axeを使用した自動アクセシビリティテスト
- CIパイプラインにアクセシビリティテストを組み込み
- コントラスト比の自動チェック

### 手動テスト

- キーボードのみでの操作テスト
- スクリーンリーダー（NVDA、VoiceOver）でのテスト
- 拡大表示でのテスト

## 実装例

### キーボード操作可能なボタン

```tsx
<div
  role="button"
  tabIndex={0}
  onClick={handleClick}
  onKeyDown={(e) => {
    if (e.key === 'Enter' || e.key === ' ') {
      e.preventDefault();
      handleClick();
    }
  }}
  aria-label="ボタンの説明"
>
  ボタンのテキスト
</div>
```

### アクセシブルなフォーム

```tsx
<div>
  <label htmlFor="taskTitle" id="taskTitleLabel">
    タスクのタイトル
    {required && <span aria-label="必須">*</span>}
  </label>
  <input
    id="taskTitle"
    type="text"
    aria-required={required}
    aria-labelledby="taskTitleLabel"
    aria-describedby="taskTitleError"
    aria-invalid={!!error}
  />
  {error && (
    <div id="taskTitleError" className="error-message" role="alert">
      {error}
    </div>
  )}
</div>
```

### アクセシブルな通知

```tsx
<div
  role="status"
  aria-live="polite"
  className="notification"
>
  {message}
</div>
```

## 参考リソース

- [Web Content Accessibility Guidelines (WCAG) 2.1](https://www.w3.org/TR/WCAG21/)
- [WAI-ARIA Authoring Practices](https://www.w3.org/TR/wai-aria-practices-1.1/)
- [A11y Project Checklist](https://www.a11yproject.com/checklist/)
- [MDN Web Docs: Accessibility](https://developer.mozilla.org/en-US/docs/Web/Accessibility)
